{"version":3,"sources":["components/AddPersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["AddPersonForm","props","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Person","person","removePerson","name","number","onClick","id","PersonsList","persons","newFilter","map","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","console","log","delete","put","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","successMessage","setSuccessMessage","messageType","setMessageType","useEffect","personService","initialPersons","personsToShow","filter","toString","toLowerCase","includes","event","target","preventDefault","personObject","findIndex","returnedPerson","concat","setTimeout","window","confirm","personToUpdate","find","changedPerson","catch","error","Persons","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66e4f806.chunk.js","sourcesContent":["import React from 'react'\n\n\n\nconst AddPersonForm = (props) => {\n    const {addPerson, newName, newNumber, handleNameChange, handleNumberChange} = props\n    return(\n        <form onSubmit={addPerson}>\n            <div>\n            name: <input value={newName}\n                    onChange={handleNameChange} />\n            </div>\n            <div>number: <input value={newNumber} \n                        onChange={handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default AddPersonForm\n\n  ","import React from 'react'\n\n\nconst Person = (props) => {\n    const {person, removePerson} = props\n\n    return (\n        <div>\n            {person.name} {person.number} \n            <button onClick={()=>removePerson(person.id)}>delete</button>\n        </div>\n    )\n\n}\n//<DeletePerson personId={person.id} removePerson={()=>removePerson(person.id)}/>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst PersonsList = (props) => {\n    const {persons, newFilter, removePerson} = props\n\n\n    \n    return (\n            <ul>\n                {persons.map(person => {\n                    return (\n                    <li key={person.name}>     \n                        <Person person={person} removePerson={removePerson}/>\n                    </li>\n                    )\n                }\n\n                )}\n            </ul>\n    )\n}\n\nexport default PersonsList","import React from 'react'\n\n\nconst Filter = (props) => {\n    const {newFilter, handleFilterChange} = props\n    return (\n        <div>\n            filter shown with: <input value={newFilter}\n                                onChange={handleFilterChange}/>\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    console.log(baseUrl + '/' + id)\n    const request = axios.delete(baseUrl + '/' + id)\n    return request\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\n\nconst Notification = ({ message, type }) => {\n    if (message === null) {\n      return null\n    }\n    console.log(type)\n  \n    return (\n      <div className={type}>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport AddPersonForm from './components/AddPersonForm'\nimport PersonsList from './components/Persons'\nimport Filter from './components/Filter'\nimport axios from 'axios'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [showAll, setShowAll] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [messageType, setMessageType] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  const removePerson = (id) => {\n    const personToDelete = persons.filter(person => {\n      return person.id === id\n    })[0]\n    //const personToDelete = personToDelete1[0]\n    console.log(personToDelete, typeof(personToDelete))\n    if(window.confirm(\"Are you sure you want to delete?\")){\n\n\n      personService\n        .remove(id)\n        .then(setPersons(persons.filter(person => person.id !== id)),\n        setMessageType(\"success\"),\n        setSuccessMessage(`deleted '${personToDelete.name}'`),\n        setTimeout(()=> {\n          setSuccessMessage(null)\n        },5000))\n        .catch(error=>{\n          setMessageType(\"error\")\n          setSuccessMessage(`User '${personToDelete.name}' has already been removed`)\n          setTimeout(()=> {\n            setSuccessMessage(null)\n          },5000)\n        })\n        \n    }\n      \n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if(persons.findIndex(person => person.name === personObject.name) === -1 ) {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson)) \n        },\n        setMessageType(\"success\"),\n        setSuccessMessage(`added '${personObject.name}'`),\n        setTimeout(()=> {\n          setSuccessMessage(null)\n        },5000))\n      \n    } else {\n\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const personToUpdate = persons.find(person => person.name === personObject.name)\n        const changedPerson = {...personToUpdate, number: newNumber}\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n          },\n          setMessageType(\"success\"),\n          setSuccessMessage(`updated '${changedPerson.name}'`),\n          setTimeout(()=> {\n            setSuccessMessage(null)\n          },5000))\n          .catch(error=>{\n            setMessageType(\"error\")\n            setSuccessMessage(`User '${newName}' has already been removed`)\n            setTimeout(()=> {\n              setSuccessMessage(null)\n            },5000)\n          })\n      } \n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  //const personsToShow = persons.filter(x => new RegExp(newFilter, 'i').test(x.name));\n  const personsToShow = persons.filter(person => person.name.toString().toLowerCase()\n                                      .includes(newFilter.toString().toLowerCase()))\n\n     // : persons.filter(person => person.name.includes(newFilter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <Notification message={successMessage} type={messageType}/>\n      <AddPersonForm addPerson={addPerson} newName={newName}\n                     handleNumberChange={handleNumberChange} newNumber={newNumber}\n                     handleNameChange={handleNameChange}/>\n      <h2>Numbers</h2> \n      <PersonsList persons={personsToShow} newFilter={newFilter} removePerson={removePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}